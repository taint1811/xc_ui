{"version":3,"file":"sidebar.js","sources":["../src/util/index.js","../src/sidebar.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.0.0-alpha1): util/index.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\nconst TRANSITION_END = 'transitionend'\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\nconst toType = obj => {\n  if (obj === null || obj === undefined) {\n    return `${obj}`\n  }\n\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst getUID = prefix => {\n  do {\n    prefix += Math.floor(Math.random() * MAX_UID)\n  } while (document.getElementById(prefix))\n\n  return prefix\n}\n\nconst getSelector = element => {\n  let selector = element.getAttribute('data-target')\n\n  if (!selector || selector === '#') {\n    const hrefAttr = element.getAttribute('href')\n\n    selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : null\n  }\n\n  return selector\n}\n\nconst getSelectorFromElement = element => {\n  const selector = getSelector(element)\n\n  if (selector) {\n    return document.querySelector(selector) ? selector : null\n  }\n\n  return null\n}\n\nconst getElementFromSelector = element => {\n  const selector = getSelector(element)\n\n  return selector ? document.querySelector(selector) : null\n}\n\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0\n  }\n\n  // Get transition-duration of the element\n  let {\n    transitionDuration,\n    transitionDelay\n  } = window.getComputedStyle(element)\n\n  const floatTransitionDuration = parseFloat(transitionDuration)\n  const floatTransitionDelay = parseFloat(transitionDelay)\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0]\n  transitionDelay = transitionDelay.split(',')[0]\n\n  return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n}\n\nconst triggerTransitionEnd = element => {\n  element.dispatchEvent(new Event(TRANSITION_END))\n}\n\nconst isElement = obj => (obj[0] || obj).nodeType\n\nconst emulateTransitionEnd = (element, duration) => {\n  let called = false\n  const durationPadding = 5\n  const emulatedDuration = duration + durationPadding\n  function listener() {\n    called = true\n    element.removeEventListener(TRANSITION_END, listener)\n  }\n\n  element.addEventListener(TRANSITION_END, listener)\n  setTimeout(() => {\n    if (!called) {\n      triggerTransitionEnd(element)\n    }\n  }, emulatedDuration)\n}\n\nconst typeCheckConfig = (componentName, config, configTypes) => {\n  Object.keys(configTypes)\n    .forEach(property => {\n      const expectedTypes = configTypes[property]\n      const value = config[property]\n      const valueType = value && isElement(value) ?\n        'element' :\n        toType(value)\n\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        throw new Error(\n          `${componentName.toUpperCase()}: ` +\n          `Option \"${property}\" provided type \"${valueType}\" ` +\n          `but expected type \"${expectedTypes}\".`)\n      }\n    })\n}\n\nconst isVisible = element => {\n  if (!element) {\n    return false\n  }\n\n  if (element.style && element.parentNode && element.parentNode.style) {\n    const elementStyle = getComputedStyle(element)\n    const parentNodeStyle = getComputedStyle(element.parentNode)\n\n    return elementStyle.display !== 'none' &&\n      parentNodeStyle.display !== 'none' &&\n      elementStyle.visibility !== 'hidden'\n  }\n\n  return false\n}\n\nconst findShadowRoot = element => {\n  if (!document.documentElement.attachShadow) {\n    return null\n  }\n\n  // Can find the shadow root otherwise it'll return the document\n  if (typeof element.getRootNode === 'function') {\n    const root = element.getRootNode()\n    return root instanceof ShadowRoot ? root : null\n  }\n\n  if (element instanceof ShadowRoot) {\n    return element\n  }\n\n  // when we don't find a shadow root\n  if (!element.parentNode) {\n    return null\n  }\n\n  return findShadowRoot(element.parentNode)\n}\n\nconst noop = () => function () {}\n\nconst reflow = element => element.offsetHeight\n\nconst getjQuery = () => {\n  const { jQuery } = window\n\n  if (jQuery && !document.body.hasAttribute('data-no-jquery')) {\n    return jQuery\n  }\n\n  return null\n}\n\nexport {\n  getjQuery,\n  TRANSITION_END,\n  getUID,\n  getSelectorFromElement,\n  getElementFromSelector,\n  getTransitionDurationFromElement,\n  triggerTransitionEnd,\n  isElement,\n  emulateTransitionEnd,\n  typeCheckConfig,\n  isVisible,\n  findShadowRoot,\n  noop,\n  reflow\n}\n","/**\n * --------------------------------------------------------------------------\n *  @author: Tai Nguyen (nguyentantai1811@gmail.com)\n *  @copyright Â© 2020 - Tai Nguyen Tan.\n *  @license  Premium.\n * --------------------------------------------------------------------------\n */\n\nimport {\n    getjQuery,\n    reflow,\n    TRANSITION_END,\n    emulateTransitionEnd,\n    getTransitionDurationFromElement,\n    typeCheckConfig\n} from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport PerfectScrollbar from 'perfect-scrollbar'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'sidebar'\nconst VERSION = '1.0.2'\nconst DATA_KEY = 'xcodiui.sidebar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst Default = {\n    activeLinksExact: true,\n    breakpoints: {\n        xs: 'xc-sidebar-show',\n        sm: 'xc-sidebar-sm-show',\n        md: 'xc-sidebar-md-show',\n        lg: 'xc-sidebar-lg-show',\n        xl: 'xc-sidebar-xl-show',\n        xxl: 'xc-sidebar-xxl-show'\n    },\n    dropdownAccordion: true\n}\n\nconst DefaultType = {\n    activeLinksExact: 'boolean',\n    breakpoints: 'object',\n    dropdownAccordion: '(string|boolean)'\n}\n\nconst CLASS_NAME_ACTIVE = 'xc-active'\nconst CLASS_NAME_BACKDROP = 'xc-sidebar-backdrop'\nconst CLASS_NAME_FADE = 'xc-fade'\nconst CLASS_NAME_NAV_DROPDOWN = 'xc-sidebar-nav-dropdown'\nconst CLASS_NAME_NAV_DROPDOWN_TOGGLE = 'xc-sidebar-nav-dropdown-toggle'\nconst CLASS_NAME_SHOW = 'xc-show'\nconst CLASS_NAME_SIDEBAR_MINIMIZED = 'xc-sidebar-minimized'\nconst CLASS_NAME_SIDEBAR_OVERLAID = 'xc-sidebar-overlaid'\nconst CLASS_NAME_SIDEBAR_UNFOLDABLE = 'xc-sidebar-unfoldable'\n\nconst EVENT_CLASS_TOGGLE = 'classtoggle'\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLOSE = `close${EVENT_KEY}`\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_OPEN = `open${EVENT_KEY}`\nconst EVENT_OPENED = `opened${EVENT_KEY}`\n\nconst SELECTOR_NAV_DROPDOWN_TOGGLE = '.xc-sidebar-nav-dropdown-toggle'\nconst SELECTOR_NAV_DROPDOWN = '.xc-sidebar-nav-dropdown'\nconst SELECTOR_NAV_LINK = '.xc-sidebar-nav-link'\nconst SELECTOR_NAVIGATION_CONTAINER = '.xc-sidebar-nav'\nconst SELECTOR_SIDEBAR = '.xc-sidebar'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Sidebar {\n    constructor(element, config) {\n        if (typeof PerfectScrollbar === 'undefined') {\n            throw new TypeError('XcodiUI\\'s sidebar require Perfect Scrollbar')\n        }\n\n        this._element = element\n        this._config = this._getConfig(config)\n        this._open = this._isVisible()\n        this._mobile = this._isMobile()\n        this._overlaid = this._isOverlaid()\n        this._minimize = this._isMinimized()\n        this._unfoldable = this._isUnfoldable()\n        this._setActiveLink()\n        this._ps = null\n        this._backdrop = null\n        this._psInit()\n        this._addEventListeners()\n\n        Data.setData(element, DATA_KEY, this)\n    }\n\n    // Getters\n\n    static get VERSION() {\n        return VERSION\n    }\n\n    static get Default() {\n        return Default\n    }\n\n    static get DefaultType() {\n        return DefaultType\n    }\n\n    // Public\n\n    open(breakpoint) {\n        EventHandler.trigger(this._element, EVENT_OPEN)\n\n        if (this._isMobile()) {\n            this._addClassName(this._firstBreakpointClassName())\n            this._showBackdrop()\n            EventHandler.one(this._element, TRANSITION_END, () => {\n                this._addClickOutListener()\n            })\n        } else if (breakpoint) {\n            this._addClassName(this._getBreakpointClassName(breakpoint))\n\n            if (this._isOverlaid()) {\n                EventHandler.one(this._element, TRANSITION_END, () => {\n                    this._addClickOutListener()\n                })\n            }\n        } else {\n            this._addClassName(this._firstBreakpointClassName())\n\n            if (this._isOverlaid()) {\n                EventHandler.one(this._element, TRANSITION_END, () => {\n                    this._addClickOutListener()\n                })\n            }\n        }\n\n        const complete = () => {\n            if (this._isVisible() === true) {\n                this._open = true\n                EventHandler.trigger(this._element, EVENT_OPENED)\n            }\n        }\n\n        const transitionDuration = getTransitionDurationFromElement(this._element)\n\n        EventHandler.one(this._element, TRANSITION_END, complete)\n        emulateTransitionEnd(this._element, transitionDuration)\n    }\n\n    close(breakpoint) {\n        EventHandler.trigger(this._element, EVENT_CLOSE)\n\n        if (this._isMobile()) {\n            this._element.classList.remove(this._firstBreakpointClassName())\n            this._removeBackdrop()\n            this._removeClickOutListener()\n        } else if (breakpoint) {\n            this._element.classList.remove(this._getBreakpointClassName(breakpoint))\n            if (this._isOverlaid()) {\n                this._removeClickOutListener()\n            }\n        } else {\n            this._element.classList.remove(this._firstBreakpointClassName())\n            if (this._isOverlaid()) {\n                this._removeClickOutListener()\n            }\n        }\n\n        const complete = () => {\n            if (this._isVisible() === false) {\n                this._open = false\n                EventHandler.trigger(this._element, EVENT_CLOSED)\n            }\n        }\n\n        const transitionDuration = getTransitionDurationFromElement(this._element)\n\n        EventHandler.one(this._element, TRANSITION_END, complete)\n        emulateTransitionEnd(this._element, transitionDuration)\n    }\n\n    toggle(breakpoint) {\n        if (this._open) {\n            this.close(breakpoint)\n        } else {\n            this.open(breakpoint)\n        }\n    }\n\n    minimize() {\n        if (!this._isMobile()) {\n            this._addClassName(CLASS_NAME_SIDEBAR_MINIMIZED)\n            this._minimize = true\n            this._psDestroy()\n        }\n    }\n\n    unfoldable() {\n        if (!this._isMobile()) {\n            this._addClassName(CLASS_NAME_SIDEBAR_UNFOLDABLE)\n            this._unfoldable = true\n        }\n    }\n\n    reset() {\n        if (this._element.classList.contains(CLASS_NAME_SIDEBAR_MINIMIZED)) {\n            this._element.classList.remove(CLASS_NAME_SIDEBAR_MINIMIZED)\n            this._minimize = false\n            EventHandler.one(this._element, TRANSITION_END, this._psInit())\n        }\n\n        if (this._element.classList.contains(CLASS_NAME_SIDEBAR_UNFOLDABLE)) {\n            this._element.classList.remove(CLASS_NAME_SIDEBAR_UNFOLDABLE)\n            this._unfoldable = false\n        }\n    }\n\n    // Private\n\n    _getConfig(config) {\n        config = {\n            ...this.constructor.Default,\n            ...Manipulator.getDataAttributes(this._element),\n            ...config\n        }\n\n        typeCheckConfig(\n            NAME,\n            config,\n            this.constructor.DefaultType\n        )\n\n        return config\n    }\n\n    _isMobile() {\n        return Boolean(window.getComputedStyle(this._element, null).getPropertyValue('--is-mobile'))\n    }\n\n    _isIOS() {\n        const iOSDevices = [\n            'iPad Simulator',\n            'iPhone Simulator',\n            'iPod Simulator',\n            'iPad',\n            'iPhone',\n            'iPod'\n        ]\n\n        const platform = Boolean(navigator.platform)\n\n        if (platform) {\n            while (iOSDevices.length) {\n                if (navigator.platform === iOSDevices.pop()) {\n                    return true\n                }\n            }\n        }\n\n        return false\n    }\n\n    _isMinimized() {\n        return this._element.classList.contains(CLASS_NAME_SIDEBAR_MINIMIZED)\n    }\n\n    _isOverlaid() {\n        return this._element.classList.contains(CLASS_NAME_SIDEBAR_OVERLAID)\n    }\n\n    _isUnfoldable() {\n        return this._element.classList.contains(CLASS_NAME_SIDEBAR_UNFOLDABLE)\n    }\n\n    _isVisible() {\n        const rect = this._element.getBoundingClientRect()\n\n        return (\n            rect.top >= 0 &&\n            rect.left >= 0 &&\n            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /* or $(window).height() */\n            rect.right <= (window.innerWidth || document.documentElement.clientWidth) /* or $(window).width() */\n        )\n    }\n\n    _addClassName(className) {\n        this._element.classList.add(className)\n    }\n\n    _firstBreakpointClassName() {\n        return Object.keys(Default.breakpoints).map(key => Default.breakpoints[key])[0]\n    }\n\n    _getBreakpointClassName(breakpoint) {\n        return Default.breakpoints[breakpoint]\n    }\n\n    _removeBackdrop() {\n        if (this._backdrop) {\n            this._backdrop.parentNode.removeChild(this._backdrop)\n            this._backdrop = null\n        }\n    }\n\n    _showBackdrop() {\n        if (!this._backdrop) {\n            this._backdrop = document.createElement('div')\n            this._backdrop.className = CLASS_NAME_BACKDROP\n            this._backdrop.classList.add(CLASS_NAME_FADE)\n            document.body.appendChild(this._backdrop)\n            reflow(this._backdrop)\n            this._backdrop.classList.add(CLASS_NAME_SHOW)\n        }\n    }\n\n    _clickOutListener(event, sidebar) {\n        if (event.target.closest(SELECTOR_SIDEBAR) === null) { // or use:\n            event.preventDefault()\n            event.stopPropagation()\n            sidebar.close()\n        }\n    }\n\n    _addClickOutListener() {\n        EventHandler.on(document, EVENT_CLICK_DATA_API, event => {\n            this._clickOutListener(event, this)\n        })\n    }\n\n    _removeClickOutListener() {\n        EventHandler.off(document, EVENT_CLICK_DATA_API)\n    }\n\n    // Sidebar navigation\n\n    _getAllSiblings(element, filter) {\n        const siblings = []\n        element = element.parentNode.firstChild\n        do {\n            if (element.nodeType === 3) {\n                continue // text node\n            }\n\n            if (element.nodeType === 8) {\n                continue // comment node\n            }\n\n            if (!filter || filter(element)) {\n                siblings.push(element)\n            }\n\n            // eslint-disable-next-line no-cond-assign\n        } while (element = element.nextSibling)\n\n        return siblings\n    }\n\n    _toggleDropdown(event, sidebar) {\n        let toggler = event.target\n        if (!toggler.classList.contains(CLASS_NAME_NAV_DROPDOWN_TOGGLE)) {\n            toggler = toggler.closest(SELECTOR_NAV_DROPDOWN_TOGGLE)\n        }\n\n        const dataAttributes = toggler.closest(SELECTOR_NAVIGATION_CONTAINER).dataset\n\n        if (typeof dataAttributes.dropdownAccordion !== 'undefined') {\n            Default.dropdownAccordion = JSON.parse(dataAttributes.dropdownAccordion)\n        }\n\n        // TODO: find better solution\n        if (Default.dropdownAccordion === true) {\n            this._getAllSiblings(toggler.parentElement, element => Boolean(element.classList.contains(CLASS_NAME_NAV_DROPDOWN))).forEach(element => {\n                if (element !== toggler.parentNode) {\n                    if (element.classList.contains(CLASS_NAME_NAV_DROPDOWN)) {\n                        element.classList.remove(CLASS_NAME_SHOW)\n                    }\n                }\n            })\n        }\n\n        toggler.parentNode.classList.toggle(CLASS_NAME_SHOW)\n            // TODO: Set the toggler's position near to cursor after the click.\n\n        // TODO: add transition end\n        sidebar._psUpdate()\n    }\n\n    // PerfectScrollbar\n\n    _psInit() {\n        if (this._element.querySelector(SELECTOR_NAVIGATION_CONTAINER) && !this._isIOS()) {\n            this._ps = new PerfectScrollbar(this._element.querySelector(SELECTOR_NAVIGATION_CONTAINER), {\n                suppressScrollX: true,\n                wheelPropagation: false\n            })\n        }\n    }\n\n    _psUpdate() {\n        if (this._ps) {\n            this._ps.update()\n        }\n    }\n\n    _psDestroy() {\n        if (this._ps) {\n            this._ps.destroy()\n            this._ps = null\n        }\n    }\n\n    _getParents(element, selector) {\n        // Setup parents array\n        const parents = []\n\n        // Get matching parent elements\n        for (; element && element !== document; element = element.parentNode) {\n            // Add matching parents to array\n            if (selector) {\n                if (element.matches(selector)) {\n                    parents.push(element)\n                }\n            } else {\n                parents.push(element)\n            }\n        }\n\n        return parents\n    }\n\n    _setActiveLink() {\n        // eslint-disable-next-line unicorn/prefer-spread\n        Array.from(this._element.querySelectorAll(SELECTOR_NAV_LINK)).forEach(element => {\n            let currentUrl\n\n            const urlHasParams = /\\\\?.*=/\n            const urlHasQueryString = /\\\\?./\n            const urlHasHash = /#./\n\n            if (urlHasParams.test(String(window.location)) || urlHasQueryString.test(String(window.location))) {\n                currentUrl = String(window.location).split('?')[0]\n            } else if (urlHasHash.test(String(window.location))) {\n                currentUrl = String(window.location).split('#')[0]\n            } else {\n                currentUrl = String(window.location)\n            }\n\n            if (currentUrl.slice(-1) === '#') {\n                currentUrl = currentUrl.slice(0, -1)\n            }\n\n            const dataAttributes = element.closest(SELECTOR_NAVIGATION_CONTAINER).dataset\n\n            if (typeof dataAttributes.activeLinksExact !== 'undefined') {\n                Default.activeLinksExact = JSON.parse(dataAttributes.activeLinksExact)\n            }\n\n            if (Default.activeLinksExact && element.href === currentUrl) {\n                element.classList.add(CLASS_NAME_ACTIVE)\n                    // eslint-disable-next-line unicorn/prefer-spread\n                Array.from(this._getParents(element, SELECTOR_NAV_DROPDOWN)).forEach(element => {\n                    element.classList.add(CLASS_NAME_SHOW)\n                })\n            }\n\n            if (!Default.activeLinksExact && element.href.startsWith(currentUrl)) {\n                element.classList.add(CLASS_NAME_ACTIVE)\n                    // eslint-disable-next-line unicorn/prefer-spread\n                Array.from(this._getParents(element, SELECTOR_NAV_DROPDOWN)).forEach(element => {\n                    element.classList.add(CLASS_NAME_SHOW)\n                })\n            }\n        })\n    }\n\n    _addEventListeners() {\n        if (this._mobile && this._open) {\n            this._addClickOutListener()\n        }\n\n        if (this._overlaid && this._open) {\n            this._addClickOutListener()\n        }\n\n        EventHandler.on(this._element, EVENT_CLASS_TOGGLE, event => {\n            if (event.detail.className === CLASS_NAME_SIDEBAR_MINIMIZED) {\n                if (this._element.classList.contains(CLASS_NAME_SIDEBAR_MINIMIZED)) {\n                    this.minimize()\n                } else {\n                    this.reset()\n                }\n            }\n\n            if (event.detail.className === CLASS_NAME_SIDEBAR_UNFOLDABLE) {\n                if (this._element.classList.contains(CLASS_NAME_SIDEBAR_UNFOLDABLE)) {\n                    this.unfoldable()\n                } else {\n                    this.reset()\n                }\n            }\n\n            if (typeof Object.keys(Default.breakpoints).find(key => Default.breakpoints[key] === event.detail.className) !== 'undefined') {\n                const { className } = event.detail\n                const breakpoint = Object.keys(Default.breakpoints).find(key => Default.breakpoints[key] === className)\n\n                if (event.detail.add) {\n                    this.open(breakpoint)\n                } else {\n                    this.close(breakpoint)\n                }\n            }\n        })\n\n        EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_NAV_DROPDOWN_TOGGLE, event => {\n            event.preventDefault()\n            this._toggleDropdown(event, this)\n        })\n\n        EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_NAV_LINK, () => {\n            if (this._isMobile()) {\n                this.close()\n            }\n        })\n    }\n\n    // Static\n\n    static _sidebarInterface(element, config) {\n        let data = Data.getData(element, DATA_KEY)\n        const _config = typeof config === 'object' && config\n\n        if (!data) {\n            data = new Sidebar(element, _config)\n        }\n\n        if (typeof config === 'string') {\n            if (typeof data[config] === 'undefined') {\n                throw new TypeError(`No method named \"${config}\"`)\n            }\n\n            data[config]()\n        }\n    }\n\n    static jQueryInterface(config) {\n        return this.each(function() {\n            Sidebar._sidebarInterface(this, config)\n        })\n    }\n\n    static getInstance(element) {\n        return Data.getData(element, DATA_KEY)\n    }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n    // eslint-disable-next-line unicorn/prefer-spread\n    Array.from(document.querySelectorAll(SELECTOR_SIDEBAR)).forEach(element => {\n        Sidebar._sidebarInterface(element)\n    })\n})\n\nconst $ = getjQuery()\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\nif ($) {\n    const JQUERY_NO_CONFLICT = $.fn[NAME]\n    $.fn[NAME] = Sidebar.jQueryInterface\n    $.fn[NAME].Constructor = Sidebar\n    $.fn[NAME].noConflict = () => {\n        $.fn[NAME] = JQUERY_NO_CONFLICT\n        return Sidebar.jQueryInterface\n    }\n}\n\nexport default Sidebar"],"names":["MILLISECONDS_MULTIPLIER","TRANSITION_END","toType","obj","undefined","toString","call","match","toLowerCase","getTransitionDurationFromElement","element","window","getComputedStyle","transitionDuration","transitionDelay","floatTransitionDuration","parseFloat","floatTransitionDelay","split","triggerTransitionEnd","dispatchEvent","Event","isElement","nodeType","emulateTransitionEnd","duration","called","durationPadding","emulatedDuration","listener","removeEventListener","addEventListener","setTimeout","typeCheckConfig","componentName","config","configTypes","Object","keys","forEach","property","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","reflow","offsetHeight","getjQuery","jQuery","document","body","hasAttribute","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","Default","activeLinksExact","breakpoints","xs","sm","md","lg","xl","xxl","dropdownAccordion","DefaultType","CLASS_NAME_ACTIVE","CLASS_NAME_BACKDROP","CLASS_NAME_FADE","CLASS_NAME_NAV_DROPDOWN","CLASS_NAME_NAV_DROPDOWN_TOGGLE","CLASS_NAME_SHOW","CLASS_NAME_SIDEBAR_MINIMIZED","CLASS_NAME_SIDEBAR_OVERLAID","CLASS_NAME_SIDEBAR_UNFOLDABLE","EVENT_CLASS_TOGGLE","EVENT_CLICK_DATA_API","EVENT_CLOSE","EVENT_CLOSED","EVENT_LOAD_DATA_API","EVENT_OPEN","EVENT_OPENED","SELECTOR_NAV_DROPDOWN_TOGGLE","SELECTOR_NAV_DROPDOWN","SELECTOR_NAV_LINK","SELECTOR_NAVIGATION_CONTAINER","SELECTOR_SIDEBAR","Sidebar","PerfectScrollbar","TypeError","_element","_config","_getConfig","_open","_isVisible","_mobile","_isMobile","_overlaid","_isOverlaid","_minimize","_isMinimized","_unfoldable","_isUnfoldable","_setActiveLink","_ps","_backdrop","_psInit","_addEventListeners","Data","setData","open","breakpoint","EventHandler","trigger","_addClassName","_firstBreakpointClassName","_showBackdrop","one","_addClickOutListener","_getBreakpointClassName","complete","close","classList","remove","_removeBackdrop","_removeClickOutListener","toggle","minimize","_psDestroy","unfoldable","reset","contains","constructor","Manipulator","getDataAttributes","Boolean","getPropertyValue","_isIOS","iOSDevices","platform","navigator","length","pop","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","className","add","map","key","parentNode","removeChild","createElement","appendChild","_clickOutListener","event","sidebar","target","closest","preventDefault","stopPropagation","on","off","_getAllSiblings","filter","siblings","firstChild","push","nextSibling","_toggleDropdown","toggler","dataAttributes","dataset","JSON","parse","parentElement","_psUpdate","querySelector","suppressScrollX","wheelPropagation","update","destroy","_getParents","selector","parents","matches","Array","from","querySelectorAll","currentUrl","urlHasParams","urlHasQueryString","urlHasHash","String","location","slice","href","startsWith","detail","find","_sidebarInterface","data","getData","jQueryInterface","each","getInstance","$","JQUERY_NO_CONFLICT","fn","Constructor","noConflict"],"mappings":"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"}